<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\dev\deveel\deveeldb\src\deveeldb-nunit\deveel.data.sql.objects\sqlbooleantest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// 
//  Copyright 2010-2014 Deveel
// 
//    Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
//    you may not use this file except in compliance with the License.
//    You may obtain a copy of the License at
// 
//        http://www.apache.org/licenses/LICENSE-2.0
// 
//    Unless required by applicable law or agreed to in writing, software
//    distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//    See the License for the specific language governing permissions and
//    limitations under the License.

using System;

using NUnit.Framework;

namespace Deveel.Data.Sql.Objects {
	[TestFixture]
	[Category(&quot;SQL Objects&quot;)]
	[Category(&quot;Booleans&quot;)]
	public class SqlBooleanTest {
		[Test]
		public void CreateFromByte() {
			var value = new SqlBoolean(1);
			Assert.IsNotNull(value);
			Assert.IsFalse(value.IsNull);
			Assert.AreEqual(true, (bool)value);

			value = new SqlBoolean(0);
			Assert.IsNotNull(value);
			Assert.IsFalse(value.IsNull);
			Assert.AreEqual(false, (bool)value);
		}

		[Test]
		public void CreateFromBoolean() {
			var value = new SqlBoolean(true);
			Assert.IsNotNull(value);
			Assert.IsFalse(value.IsNull);
			Assert.AreEqual(true, (bool)value);

			value = new SqlBoolean(false);
			Assert.IsNotNull(value);
			Assert.IsFalse(value.IsNull);
			Assert.AreEqual(false, (bool)value);
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		public void Compare_Equal() {
			var value1 = SqlBoolean.True;
			var value2 = new SqlBoolean(true);

			Assert.IsFalse(value1.IsNull);
			Assert.IsFalse(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			int i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(0, i);
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		public void Compare_NotEqual() {
			var value1 = SqlBoolean.False;
			var value2 = new SqlBoolean(true);

			Assert.IsFalse(value1.IsNull);
			Assert.IsFalse(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			int i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(-1, i);
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		public void Compare_ToBooleanNull() {
			var value1 = SqlBoolean.True;
			var value2 = SqlBoolean.Null;

			Assert.IsFalse(value1.IsNull);
			Assert.IsTrue(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			int i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(1, i);
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		public void Compare_ToNull() {
			var value1 = SqlBoolean.True;
			var value2 = SqlNull.Value;

			Assert.IsFalse(value1.IsNull);
			Assert.IsTrue(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			int i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(1, i);			
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		[Category(&quot;Numbers&quot;)]
		public void Compare_ToNumber_InRange() {
			var value1 = SqlBoolean.True;
			var value2 = SqlNumber.One;

			Assert.IsFalse(value1.IsNull);
			Assert.IsFalse(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			int i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(0, i);

			value2 = SqlNumber.Zero;

			Assert.IsFalse(value1.IsNull);
			Assert.IsFalse(value2.IsNull);

			Assert.IsTrue(value1.IsComparableTo(value2));

			i = -2;
			Assert.DoesNotThrow(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(1, i);
		}

		[Test]
		[Category(&quot;Comparison&quot;)]
		[Category(&quot;Numbers&quot;)]
		public void Compare_ToNumber_OutOfRange() {
			var value1 = SqlBoolean.True;
			var value2 = new SqlNumber(21);

			Assert.IsFalse(value1.IsNull);
			Assert.IsFalse(value2.IsNull);

			Assert.IsFalse(value1.IsComparableTo(value2));

			int i = -2;
			Assert.Throws&lt;ArgumentOutOfRangeException&gt;(() =&gt; i = value1.CompareTo(value2));
			Assert.AreEqual(-2, i);
		}

		[Test]
		[Category(&quot;Operators&quot;)]
		public void Equality_True() {
			var value1 = SqlBoolean.True;
			var value2 = SqlBoolean.True;

			Assert.IsTrue(value1 == value2);
		}

		[Test]
		[Category(&quot;Operators&quot;)]
		public void Equality_False() {
			var value1 = SqlBoolean.True;
			var value2 = SqlBoolean.False;
			
			Assert.IsTrue(value1 != value2);

			value2 = SqlBoolean.Null;

			Assert.IsTrue(value1 != value2);
		}

		[Test]
		[Category(&quot;Operators&quot;)]
		public void Equality_ToNull_True() {
			var value1 = SqlBoolean.Null;
			var value2 = SqlNull.Value;

			Assert.IsTrue(value1 == value2);
		}

		[Test]
		[Category(&quot;Conversion&quot;)]
		public void Convert_ToString() {
			var value = SqlBoolean.True;
			Assert.AreEqual(&quot;true&quot;, value.ToString());

			value = SqlBoolean.False;
			Assert.AreEqual(&quot;false&quot;, value.ToString());

			value = SqlBoolean.Null;
			Assert.AreEqual(&quot;NULL&quot;, value.ToString());
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[27,4,27,34,1],[28,4,28,28,1],[29,4,29,33,1],[30,4,30,39,1],[32,4,32,30,1],[33,4,33,28,1],[34,4,34,33,1],[35,4,35,40,1],[36,3,36,4,1],[40,4,40,37,1],[41,4,41,28,1],[42,4,42,33,1],[43,4,43,39,1],[45,4,45,34,1],[46,4,46,28,1],[47,4,47,33,1],[48,4,48,40,1],[49,3,49,4,1],[54,4,54,33,1],[55,4,55,38,1],[57,4,57,34,1],[58,4,58,34,1],[60,4,60,49,1],[62,4,62,15,1],[63,4,63,30,1],[63,58,63,60,1],[64,4,64,26,1],[65,3,65,4,1],[70,4,70,34,1],[71,4,71,38,1],[73,4,73,34,1],[74,4,74,34,1],[76,4,76,49,1],[78,4,78,15,1],[79,4,79,30,1],[79,58,79,60,1],[80,4,80,27,1],[81,3,81,4,1],[86,4,86,33,1],[87,4,87,33,1],[89,4,89,34,1],[90,4,90,33,1],[92,4,92,49,1],[94,4,94,15,1],[95,4,95,30,1],[95,58,95,60,1],[96,4,96,26,1],[97,3,97,4,1],[102,4,102,33,1],[103,4,103,31,1],[105,4,105,34,1],[106,4,106,33,1],[108,4,108,49,1],[110,4,110,15,1],[111,4,111,30,1],[111,58,111,60,1],[112,4,112,26,1],[113,3,113,4,1],[119,4,119,33,1],[120,4,120,31,1],[122,4,122,34,1],[123,4,123,34,1],[125,4,125,49,1],[127,4,127,15,1],[128,4,128,30,1],[128,58,128,60,1],[129,4,129,26,1],[131,4,131,28,1],[133,4,133,34,1],[134,4,134,34,1],[136,4,136,49,1],[138,4,138,11,1],[139,4,139,30,1],[139,58,139,60,1],[140,4,140,26,1],[141,3,141,4,1],[147,4,147,33,1],[148,4,148,35,1],[150,4,150,34,1],[151,4,151,34,1],[153,4,153,50,1],[155,4,155,15,1],[156,4,156,53,1],[156,81,156,83,1],[157,4,157,27,1],[158,3,158,4,1],[163,4,163,33,1],[164,4,164,33,1],[166,4,166,36,1],[167,3,167,4,1],[172,4,172,33,1],[173,4,173,34,1],[175,4,175,36,1],[177,4,177,29,1],[179,4,179,36,1],[180,3,180,4,1],[185,4,185,33,1],[186,4,186,31,1],[188,4,188,36,1],[189,3,189,4,1],[194,4,194,32,1],[195,4,195,46,1],[197,4,197,29,1],[198,4,198,47,1],[200,4,200,28,1],[201,4,201,46,1],[202,3,202,4,1],[63,30,63,58,1],[79,30,79,58,1],[95,30,95,58,1],[111,30,111,58,1],[128,30,128,58,1],[139,30,139,58,1],[156,53,156,81,1]]);
    </script>
  </body>
</html>